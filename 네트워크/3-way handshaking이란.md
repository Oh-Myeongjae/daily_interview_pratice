TCP 소켓은 연결 설정과정 중에 총 3번의 대화를 주고 받는다.

(SYN : 연결 요청 플래그 / ACK : 응답)

클라이언트는 서버에 접속 요청하는 SYN(M) 패킷을 보냄
서버는 클라이언트 요청인 SYN(M)을 받고, 클라이언트에게 요청을 수락한다는 ACK(M+1)와 SYN(N)이 설정된 패킷을 발송함
클라이언트는 서버의 수락 응답인 ACK(M+1)와 SYN(N) 패킷을 받고, ACK(N+1)를 서버로 보내면 연결이 성립됨
클라이언트가 연결 종료하겠다는 FIN 플래그를 전송함
서버는 클라이언트의 요청(FIN)을 받고, 알겠다는 확인 메시지로 ACK를 보냄. 그 이후 데이터를 모두 보낼 때까지 잠깐 TIME_OUT이 됨
데이터를 모두 보내고 통신이 끝났으면 연결이 종료되었다고 클라이언트에게 FIN플래그를 전송함
클라이언트는 FIN 메시지를 확인했다는 ACK를 보냄
클라이언트의 ACK 메시지를 받은 서버는 소켓 연결을 close함
클라이언트는 아직 서버로부터 받지 못한 데이터가 있을 것을 대비해서, 일정 시간동안 세션을 남겨놓고 잉여 패킷을 기다리는 과정을 거침 ( TIME_WAIT )
